<!--
  Generated template for the QuoteviewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-toolbar no-padding>
      <!-- <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
      </button> -->
    <ion-title>Quote</ion-title>
    <!-- <ion-segment>
        <ion-segment-button  class="button-l" (click)="listshow()">
          List View
        </ion-segment-button>
        <ion-segment-button  class="button-m" (click)="mapshow()">
          Map View
        </ion-segment-button>
      </ion-segment> -->
  </ion-toolbar>
  <ion-segment>
    <ion-segment-button  class="button-l" (click)="listshow()">
      List View
    </ion-segment-button>
    <ion-segment-button  class="button-m" (click)="mapshow()">
      Map View
    </ion-segment-button>
  </ion-segment>
</ion-header>


<ion-content style="padding:10px; margin-top:10px;"  >
        <ion-thumbnail  class="item-profile">
                <img src="http://sunrisetechs.com/images/imgs/{{image}}"/>
              </ion-thumbnail>
        
   <ion-list style="margin-top:5px; background-color:#ddd">
          
      <ion-row>
          <ion-col col-12 class="head">
              <h4><b>Booking Details</b></h4>
          </ion-col>
      </ion-row>
           <ion-row>
               <ion-col col-4 text-left>
                <b>Make</b>
               </ion-col>
               <ion-col col-1><b>:</b></ion-col>
               <ion-col col-7 text-left>
                   {{make}}
               </ion-col>
             </ion-row>
             <ion-row>
                 <ion-col col-4 text-left>
                  <b>Model</b>
                 </ion-col>
                 <ion-col col-1><b>:</b></ion-col>
                 <ion-col col-7 text-left>
                     {{model}}
                 </ion-col>
               </ion-row>
               <ion-row>
                   <ion-col col-4 text-left>
                    <b>Problem</b>
                   </ion-col>
                   <ion-col col-1><b>:</b></ion-col>
                   <ion-col col-7 text-left>
                       <div *ngIf="soft!=''||hard !=''||othermodel !=''">{{soft}}{{hard}}{{othermodel}}</div>
                   </ion-col>
                 </ion-row>
                 <ion-row>
                     <ion-col col-4 text-left>
                      <b>Pickup</b>
                     </ion-col>
                     <ion-col col-1><b>:</b></ion-col>
                     <ion-col col-7 text-left>
                         {{pickup}}
                     </ion-col>
                   </ion-row>
                   <ion-row>
                       <ion-col col-4 text-left>
                        <b> Booking Date</b>
                       </ion-col>
                       <ion-col col-1><b>:</b></ion-col>
                       <ion-col col-7 text-left>
                           {{booking_date}}
                       </ion-col>
                     </ion-row>
                     <div>
                            <audio controls>
                            <source src="http://sunrisetechs.com/images/audio/{{audio}}">
                           
                            </audio>
                            </div>
                        </ion-list>
                   
                          
                        <hr class="style1">   
      <ion-list>
      <ion-item>
          <h2 class="head1"><b>Quotes Received</b></h2>
           </ion-item>
           <ion-list *ngFor="let item of quoteview">
           
                    <ion-row>
                            <ion-col col-12 text-center class="box">
                                {{item.username}}
                            </ion-col>
                          </ion-row>
                      
              
                   
                     <ion-row>
                         <ion-col col-5 text-left>
                          <b>  Original Price</b>
                         </ion-col>
                         <ion-col col-1><b>:</b></ion-col>
                         <ion-col col-6 text-left>
                             {{item.exactprice}}
                         </ion-col>
                       </ion-row>
                       <ion-row *ngIf="item.second_quality_price">
                               <ion-col col-5 text-left>
                                <b> 2nd Quality Price</b>
                               </ion-col>
                               <ion-col col-1><b>:</b></ion-col>
                               <ion-col col-6 text-left>
                                   {{item.second_quality_price}}
                               </ion-col>
                             </ion-row>
                             <ion-row>
                                   <ion-col col-5 text-left>
                                    <b> Time Required</b>
                                   </ion-col>
                                   <ion-col col-1><b>:</b></ion-col>
                                   <ion-col col-6 text-left>
                                       {{item.time_period}}
                                   </ion-col>
                                 </ion-row>
                       <ion-row>
                           <ion-col col-5 text-left>
                            <b> Warranty</b>
                           </ion-col>
                           <ion-col col-1><b>:</b></ion-col>
                           <ion-col col-6 text-left>
                               {{item.warranty}}
                           </ion-col>
                         </ion-row>
                         <ion-row>
                               <ion-col col-5 text-left>
                                <b> Home Pick Up</b>
                               </ion-col>
                               <ion-col col-1><b>:</b></ion-col>
                               <ion-col col-6 text-left>
                                   {{item.pickup}}
                               </ion-col>
                             </ion-row>
                         <ion-row>
                             <ion-col col-5 text-left>
                              <b> Description</b>
                             </ion-col>
                             <ion-col col-1><b>:</b></ion-col>
                             <ion-col col-6 text-left>
                                 {{item.description}}
                             </ion-col>
                           </ion-row>
                           <ion-row *ngIf="item.accept_status==4">
                                <ion-col col-5 text-left>
                                 <b> Reason</b>
                                </ion-col>
                                <ion-col col-1><b>:</b></ion-col>
                                <ion-col col-6 text-left>
                                  {{item.reason}}
                                </ion-col>
                              </ion-row> 
                           <ion-row *ngIf="item.accept_status==1||item.accept_status==2||item.accept_status==3">   
                                <ion-col col-5 text-left>
                                    <b>Contact By</b>
                                </ion-col>
                                <ion-col col-1><b>:</b></ion-col>      
                          <ion-col col-3 >
                                <button ion-button color="primary" small round icon-only (click)="quoteCall(item.mobile)">
                                        <ion-icon ios="ios-call" md="md-call"></ion-icon></button>
                                 </ion-col>
                                 <ion-col col-3>
                                       <button ion-button  color="dark" small round icon-only (click)="quoteChat(item.id)" >
                                   <ion-icon ios="ios-chatbubbles" md="md-chatbubbles"></ion-icon></button>
                                 </ion-col>
                                 </ion-row>
                           <!-- <ion-row>
                               <ion-col col-5 text-left>
                                <b> Expires In</b>
                               </ion-col>
                               <ion-col col-1><b>:</b></ion-col>
                               <ion-col col-6 text-left>
                                 
                               </ion-col>
                             </ion-row>      -->
               
               
              <div *ngIf="item.accept_status==1||item.accept_status==2||item.accept_status==3">
               <div class="btn-group">
                  <ion-row>
                    <!-- <ion-col col-3>
                        <button ion-button color="dark" [hidden]="item.cancel_status" small class="button" (click)="quoteChat(item.id)" icon-only>Chat</button>          
                    </ion-col> -->
                       <!-- <ion-col col-3>
                               <button ion-button color="secondary" [hidden]="item.cancel_status"  small class="button" (click)="quoteCall(item.mobile)" icon-only>Call</button>
                              </ion-col>-->
                           <ion-col *ngIf="item.accept_status==1||item.accept_status==2" col-6 text-center> 
                               <!-- <button ion-button color="primary" [hidden]="item.cancel_status" small class="button" (click)="quoteAccept1(item)" icon-only>Accept</button> -->
                               <button ion-button color="secondary" [hidden]="item.cancel_status"  class="button" (click)="quoteAccept(item.id,item)" >Accept</button>
                              </ion-col>
                               <ion-col *ngIf="item.accept_status==1||item.accept_status==2" col-6 text-center>
                                       <button ion-button color="light" [hidden]="item.cancel_status"  class="button" (click)="quoteIgnore(item.id)" >Ignore</button>
                                   </ion-col>
                                   
                                   <div *ngIf="item.accept_status==3">
                                        <button ion-button block color="secondary" class="button" (click)="completeQuote(item.vendor,item.booking_id,item)" block>Complete the service</button>
                                    
                                            <button ion-button block color="dark" class="button" (click)="declineQuote(item.vendor,item.booking_id)" block>  Decline Vendor</button>
                                          </div>

<!-- ////////////////////////////////////////////////////////////////////////////                                    -->
<!-- <ion-col *ngIf="item.accept_status==1||item.accept_status==2" col-3>
               
        <button ion-button color="primary" [hidden]="item.cancel_status" small class="button" (click)="quoteAccept(item.id,item)" icon-only>Accept</button>
       </ion-col>
        <ion-col *ngIf="item.accept_status==1||item.accept_status==2" col-3>
                <button ion-button color="light" [hidden]="item.cancel_status" small class="button" (click)="quoteIgnore(item.id)" icon-only>Ignore</button>
            </ion-col> -->
                                               
                  </ion-row>
                </div>
                </div>
                <hr class="style1">
            </ion-list>
<hr class="style1">
</ion-list>

</ion-content> 


